<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baby Formula Price Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Baby Formula Price Tracker</h1>
    <p>Find the cheapest baby formula by price per ounce.</p>
  </header>

  <section class="filters">
    <input type="text" id="search" placeholder="Searchâ€¦">
    <select id="brand">
      <option value="">brand</option>
      <option value="Similac">Similac</option>
      <option value="Enfamil">Enfamil</option>
      <option value="Earth's Best">Earth's Best</option>
    </select>
    <select id="rating">
      <option value="">rating</option>
      <option value="5">5 stars</option>
      <option value="4">4 stars</option>
      <option value="3">3 stars</option>
    </select>
  </section>

  <table>
    <thead>
      <tr>
        <th>Image</th>
        <th>Product</th>
        <th>Size</th>
        <th>Price</th>
        <th>Price/oz</th>
      </tr>
    </thead>
    <tbody id="product-list">
      <tr data-brand="Similac" data-rating="5">
        <td><img src="https://via.placeholder.com/50" alt="Similac"></td>
        <td>Similac Advance Powder</td>
        <td>30 oz</td>
        <td>$29.99</td>
        <td><button>Buy</button></td>
      </tr>
      <tr data-brand="Enfamil" data-rating="4">
        <td><img src="https://via.placeholder.com/50" alt="Enfamil"></td>
        <td>Enfamil NeuroPro Powder</td>
        <td>19.5 oz</td>
        <td>$26.49</td>
        <td><button>Buy</button></td>
      </tr>
      <tr data-brand="Earth's Best" data-rating="5">
        <td><img src="https://via.placeholder.com/50" alt="Earth's Best"></td>
        <td>Earth's Best Organic</td>
        <td>23 oz</td>
        <td>$27.95</td>
        <td><button>Buy</button></td>
      </tr>
    </tbody>
  </table>

  <footer>
    <p>As an Amazon Associate I earn from qualifying purchases</p>
  </footer>

  <script>
    const searchInput = document.getElementById('search');
    const brandSelect = document.getElementById('brand');
    const ratingSelect = document.getElementById('rating');
    const rows = document.querySelectorAll('#product-list tr');

    function filterProducts() {
      const search = searchInput.value.toLowerCase();
      const brand = brandSelect.value;
      const rating = ratingSelect.value;

      rows.forEach(row => {
        const name = row.cells[1].textContent.toLowerCase();
        const rowBrand = row.dataset.brand;
        const rowRating = row.dataset.rating;

        const matchesSearch = name.includes(search);
        const matchesBrand = !brand || rowBrand === brand;
        const matchesRating = !rating || rowRating === rating;

        row.style.display = (matchesSearch && matchesBrand && matchesRating) ? '' : 'none';
      });
    }

    [searchInput, brandSelect, ratingSelect].forEach(el =>
      el.addEventListener('input', filterProducts)
    );
  </script>
</body>
</html>
